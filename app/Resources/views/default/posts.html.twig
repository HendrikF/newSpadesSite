{% extends 'base.html.twig' %}

{% block content %}

  {% for post in posts %}
    <h2><a href="{{ path('blog-post', {slug: post.slug}) }}">{{ post.title }}</a></h2>
    <p class="blog-post-meta">Published by {{ post.author.username }} on {{ post.published|date('l, jS F Y') }}.</p>
    {{ post.content|markdown }}
    <p>
      {% for tag in post.tags %}
        <a href="{{ path('tag', {title: tag.title}) }}" class="label label-primary"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span> {{ tag.title }}</a>
      {% endfor %}
    </p>
    <hr />
  {% else %}
    <div class="alert alert-info"><em>There are no posts to display.</em></div>
  {% endfor %}

<nav>
    <ul class="pagination">
      {% if prev %}
        <li>
            <a href="{{ path('blog', {page: page-1}) }}" aria-label="Previous">
                <span class="glyphicon glyphicon glyphicon-menu-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
        </li>
      {% else %}
        <li class="disabled">
            <span>
                <span class="glyphicon glyphicon glyphicon-menu-left" aria-hidden="true"></span>
            </span>
        </li>
      {% endif %}
      {% for p in pages %}
        {% if p == page %}
            <li class="active"><span>{{ p }} <span class="sr-only">(current)</span></span></li>
        {% else %}
            <li><a href="{{ path('blog', {page: p}) }}">{{ p }}</a></li>
        {% endif %}
      {% endfor %}
      {% if next %}
        <li>
            <a href="{{ path('blog', {page: page+1}) }}" aria-label="Next">
                <span class="glyphicon glyphicon glyphicon-menu-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </li>
      {% else %}
        <li class="disabled">
            <span>
                <span class="glyphicon glyphicon glyphicon-menu-right" aria-hidden="true"></span>
            </span>
        </li>
      {% endif %}
    </ul>
</nav>

{% endblock %}
